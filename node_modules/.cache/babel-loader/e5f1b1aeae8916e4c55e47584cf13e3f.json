{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _toConsumableArray from \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/src/components/shared/Repost.js\",\n    _s = $RefreshSig$(),\n    _templateObject;\n\nimport { BoxModal, ModalTitle, ModalConfirm, ModalCancel, Interaction } from './ContainerUserPost';\nimport { BiRepost } from 'react-icons/bi';\nimport { repost } from '../../service/API';\nimport styled from 'styled-components';\nimport ReactModal from 'react-modal';\nimport { useState } from 'react';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RepostButton(_ref) {\n  _s();\n\n  var token = _ref.token,\n      postId = _ref.postId,\n      numberOfReposts = _ref.numberOfReposts,\n      setNumberOfReposts = _ref.setNumberOfReposts,\n      posts = _ref.posts,\n      setPosts = _ref.setPosts,\n      customStyles = _ref.customStyles;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isModalEnabled = _useState4[0],\n      setIsModalEnabled = _useState4[1];\n\n  function callRepost() {\n    setIsModalEnabled(false);\n    repost({\n      token: token,\n      postId: postId\n    }).then(function (res) {\n      var newPosts = [res.data.post].concat(_toConsumableArray(posts));\n      setIsModalEnabled(true);\n      setIsOpen(false);\n      setPosts(newPosts);\n      setNumberOfReposts(numberOfReposts + 1);\n    }).catch(function () {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Ops...\",\n        text: \"Houve uma falha ao repostar o post desse usuário\"\n      });\n    });\n  }\n\n  function toggle() {\n    setTimeout(function () {\n      return setIsOpen(!isOpen);\n    }, 100);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Interaction, {\n    onClick: function onClick() {\n      return setIsOpen(true);\n    },\n    children: [/*#__PURE__*/_jsxDEV(ReactModal, {\n      isOpen: isOpen,\n      onRequestClose: function onRequestClose() {\n        return setIsOpen(false);\n      },\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      children: /*#__PURE__*/_jsxDEV(BoxModal, {\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: isModalEnabled ? 'Deseja mesmo repostar esse post?' : 'Carregando...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(ModalCancel, {\n            onClick: toggle,\n            state: isModalEnabled,\n            children: \"N\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ModalConfirm, {\n            onClick: callRepost,\n            state: isModalEnabled,\n            children: \"Sim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BiRepost, {\n      style: {\n        fontSize: '20px',\n        marginTop: '18px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [numberOfReposts, \" re-posts\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RepostButton, \"EpPPjQH6jfwzrfiXEujtHL4zWvw=\");\n\n_c = RepostButton;\n\nfunction RepostedDiv(_ref2) {\n  var repostedBy = _ref2.repostedBy,\n      id = _ref2.id;\n  return /*#__PURE__*/_jsxDEV(ContainerRepost, {\n    children: [/*#__PURE__*/_jsxDEV(BiRepost, {\n      style: {\n        fontSize: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\" Re-posted by \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: repostedBy.id === id ? 'you' : repostedBy.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = RepostedDiv;\nexport { RepostButton, RepostedDiv };\nvar ContainerRepost = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    z-index: -1;\\n    position: absolute;\\n    top: -33px;\\n    display: flex;\\n    align-items: center;\\n    color: white;\\n    height: 50px;\\n    width: 611px;\\n    padding: 0 0 17px 13px;\\n    border-radius: 16px 16px 0 0;\\n    background-color: #1E1E1E;\\n    \\n    span {\\n        font-size: 11px;\\n        margin-left: 5px;\\n    }\\n    @media (max-width: 620px) {\\n        width: 100%;\\n        border-radius: 0;\\n    }\\n\"])));\n_c3 = ContainerRepost;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"RepostButton\");\n$RefreshReg$(_c2, \"RepostedDiv\");\n$RefreshReg$(_c3, \"ContainerRepost\");","map":{"version":3,"sources":["/home/cadu/Driven/Projetos/Projeto_11_Linkr/src/components/shared/Repost.js"],"names":["BoxModal","ModalTitle","ModalConfirm","ModalCancel","Interaction","BiRepost","repost","styled","ReactModal","useState","Swal","RepostButton","token","postId","numberOfReposts","setNumberOfReposts","posts","setPosts","customStyles","isOpen","setIsOpen","isModalEnabled","setIsModalEnabled","callRepost","then","res","newPosts","data","post","catch","fire","icon","title","text","toggle","setTimeout","fontSize","marginTop","RepostedDiv","repostedBy","id","username","ContainerRepost","div"],"mappings":"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","sourcesContent":["import {BoxModal, ModalTitle, ModalConfirm, ModalCancel,Interaction} from './ContainerUserPost'\nimport { BiRepost } from 'react-icons/bi'\nimport {repost} from '../../service/API'\nimport styled from 'styled-components'\nimport ReactModal from 'react-modal';\nimport {useState} from 'react'\nimport Swal from 'sweetalert2';\n\nfunction RepostButton({token, postId, numberOfReposts, setNumberOfReposts, posts, setPosts, customStyles}) {\n    const [isOpen, setIsOpen] = useState(false)\n    const [isModalEnabled, setIsModalEnabled] = useState(true)\n    function callRepost() {\n        setIsModalEnabled(false)\n        repost({token: token, postId: postId})\n        .then((res) => {\n            const newPosts = [res.data.post, ...posts];\n            setIsModalEnabled(true)\n            setIsOpen(false)\n            setPosts(newPosts)\n            setNumberOfReposts(numberOfReposts + 1)\n        })\n        .catch(() => {\n            Swal.fire({\n                icon: \"error\",\n                title: \"Ops...\",\n                text: \"Houve uma falha ao repostar o post desse usuário\"\n            })\n        })\n    }\n    \n    function toggle() {\n        setTimeout(() => setIsOpen(!isOpen), 100)\n    }\n    return (\n        <Interaction onClick={() => setIsOpen(true)}>\n            <ReactModal\n                isOpen={isOpen}\n                onRequestClose={() => setIsOpen(false)}\n                style={customStyles}\n                contentLabel=\"Example Modal\"\n            >\n                <BoxModal>\n                    <ModalTitle>{isModalEnabled ? 'Deseja mesmo repostar esse post?' : 'Carregando...'}</ModalTitle>\n                    <div>\n                        <ModalCancel onClick={toggle} state={isModalEnabled}>Não</ModalCancel>\n                        <ModalConfirm onClick={callRepost} state={isModalEnabled}>Sim</ModalConfirm>\n                    </div>\n                </BoxModal>\n            </ReactModal>\n            <BiRepost \n                style={{fontSize: '20px', marginTop: '18px'}}\n            />\n            <p>{numberOfReposts} re-posts</p>\n        </Interaction>\n    )\n}\nfunction RepostedDiv({repostedBy, id}) {\n    return(\n        <ContainerRepost>\n        <BiRepost  style={{fontSize: '20px'}}/>\n        <span> Re-posted by <strong>{repostedBy.id === id ? 'you' : repostedBy.username}</strong></span>\n        </ContainerRepost>\n\n    )\n\n}\n\nexport {\n    RepostButton,\n    RepostedDiv\n}\n\nconst ContainerRepost = styled.div`\n    z-index: -1;\n    position: absolute;\n    top: -33px;\n    display: flex;\n    align-items: center;\n    color: white;\n    height: 50px;\n    width: 611px;\n    padding: 0 0 17px 13px;\n    border-radius: 16px 16px 0 0;\n    background-color: #1E1E1E;\n    \n    span {\n        font-size: 11px;\n        margin-left: 5px;\n    }\n    @media (max-width: 620px) {\n        width: 100%;\n        border-radius: 0;\n    }\n`"]},"metadata":{},"sourceType":"module"}